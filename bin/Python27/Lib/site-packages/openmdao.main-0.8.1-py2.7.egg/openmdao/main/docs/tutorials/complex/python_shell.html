
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Executing a Component in the Python Shell &mdash; OpenMDAO Documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.8.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="OpenMDAO Documentation" href="../../index.html" />
    <link rel="up" title="A More Complex Tutorial Problem" href="index.html" />
    <link rel="next" title="Wrapping an External Module Using F2PY" href="external_module.html" />
    <link rel="prev" title="Components and Variables" href="components-variables.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="external_module.html" title="Wrapping an External Module Using F2PY"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="components-variables.html" title="Components and Variables"
             accesskey="P">previous</a> |</li>
  <li><a href="http://openmdao.org">OpenMDAO Home</a> &raquo;</li>
  
        <li><a href="../../index.html">OpenMDAO Documentation v0.8.1</a> &raquo;</li>

          <li><a href="../index.html" >OpenMDAO Tutorials</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">A More Complex Tutorial Problem</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="executing-a-component-in-the-python-shell">
<h1>Executing a Component in the Python Shell<a class="headerlink" href="#executing-a-component-in-the-python-shell" title="Permalink to this headline">Â¶</a></h1>
<p>The Python implementations of the three component models (<tt class="docutils literal"><span class="pre">engine.py,</span>
<span class="pre">transmission.py,</span> <span class="pre">chassis.py</span></tt>) should all make sense now. This section will
demonstrate how to instantiate and use these components in the Python shell.
Make sure that you have activated your Python environment before running the
Python interpreter so that you can access OpenMDAO and the example problems.</p>
<p>Please enter the Python shell. Create an instance of the Engine class by typing the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">openmdao.examples.enginedesign.engine</span> <span class="kn">import</span> <span class="n">Engine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span> <span class="o">=</span> <span class="n">Engine</span><span class="p">()</span>
</pre></div>
</div>
<p>The object <tt class="docutils literal"><span class="pre">my_engine</span></tt> is an engine model with default values for all of its inputs. We can interact
with the inputs and outputs by direct inspection:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">bore</span>
<span class="go">82.0</span>
</pre></div>
</div>
<p>Let&#8217;s change the engine speed from its default value (1000 RPM) to 2500 RPM.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">RPM</span> <span class="o">=</span> <span class="mi">2500</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">RPM</span>
<span class="go">2500.0</span>
</pre></div>
</div>
<p>The value of the engine RPM is now 2500. Let&#8217;s see what happens if we try to
set the RPM to something invalid.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">RPM</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">Variable &#39;RPM&#39; must be a float having units compatible with &#39;rpm&#39; but a value of Hello &lt;type &#39;str&#39;&gt; was specified.</span>
</pre></div>
</div>
<p>The value <tt class="docutils literal"><span class="pre">&quot;Hello&quot;</span></tt> is invalid because RPM expects a value of type Float. Now,
let&#8217;s try setting the throttle to a value that exceeds the maximum.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">throttle</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">Variable &#39;throttle&#39; must be a float in the range [0.01, 1.0] but a value of 2.0 &lt;type &#39;float&#39;&gt; was specified.</span>
</pre></div>
</div>
<p>OpenMDAO raises an exception indicating that the maximum value for throttle has
been violated. This exception can be handled to provide some logical response
to this situation. Now, run the engine and examine the power and torque at
2500 RPM.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">torque</span>
<span class="go">203.963228...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_engine</span><span class="o">.</span><span class="n">power</span>
<span class="go">53.3974483...</span>
</pre></div>
</div>
<p>You run a component by calling the <tt class="docutils literal"><span class="pre">run</span></tt> method. If you recall, you define an <tt class="docutils literal"><span class="pre">execute</span></tt> method when you
create a component. The <tt class="docutils literal"><span class="pre">run</span></tt> method calls <tt class="docutils literal"><span class="pre">execute</span></tt> but also does some other things. Always run your
component with <tt class="docutils literal"><span class="pre">run.</span></tt></p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<a href="http://openmdao.org">
 <img src="../../_static/OpenMDAO_Logo_200w_padded.png"
border="0" alt="OpenMDAO Home"/>
</a>

  <h4>Previous topic</h4>
  <p class="topless"><a href="components-variables.html"
                        title="previous chapter">Components and Variables</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="external_module.html"
                        title="next chapter">Wrapping an External Module Using F2PY</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/tutorials/complex/python_shell.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="external_module.html" title="Wrapping an External Module Using F2PY"
             >next</a> |</li>
        <li class="right" >
          <a href="components-variables.html" title="Components and Variables"
             >previous</a> |</li>
  <li><a href="http://openmdao.org">OpenMDAO Home</a> &raquo;</li>
  
        <li><a href="../../index.html">OpenMDAO Documentation v0.8.1</a> &raquo;</li>

          <li><a href="../index.html" >OpenMDAO Tutorials</a> &raquo;</li>
          <li><a href="index.html" >A More Complex Tutorial Problem</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright none.
      Last updated on Aug 26, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>